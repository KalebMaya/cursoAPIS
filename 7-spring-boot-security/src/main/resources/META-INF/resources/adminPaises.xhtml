<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
<!--ESTOS HEADERS SIEMPRE SE PONEN!-->
     <h:head>
     </h:head>
     <h:body>
     <h:form>
     	<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
<!--      var se refiere a la variable que va a iterar en la lista de cursos que regresa -->
<!--      por eso es importante ponerlo -->
         <p:dataTable id="tblPaises" value="#{paisesController.paises}" var="pais" 
         paginator="true" rows="5">
         	<p:column headerText="Nombre">
         		<h:outputText value="#{pais}"/>
         	</p:column>
         </p:dataTable>
         <p:fieldset legend="Guardar/Borrar pais" rendered="#{p:ifGranted('ADMIN')}">
<!--          asi se ligan los campos y el boton con el controlador -->
         	<p:panelGrid columns="1">
         		<h:outputText value="Nombre: "/>
         		<p:inputText value="#{paisesController.nombredePais}" />
         		<br/>
         		<p:commandButton update="tblPaises" value="Guardar" action="#{paisesController.guardar}"/>
         		<p:commandButton update="tblPaises" value="Borrar" action="#{paisesController.borrar}"/>
         	</p:panelGrid>
         </p:fieldset>
<!--          esto es similar al growl, solo que el mensaje no sale flotando sino que en la misma pagina -->
         <p:messages showDetail="true">
         	<p:autoUpdate/>
         </p:messages>
     </h:form>
     </h:body>
</html>